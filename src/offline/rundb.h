struct runinfo_t{
  int sigrun;
  int bgrun;
  int slit;
  float ftrig;
  int moddata;//1=module data available, 0=no module data available
  int rocdata;//1=roc data available, 0=no roc data available
};

//wbc142,   wbc 146,    FSH52,    trig[kHz]  mod   roc 
const int nruninfo=78;
runinfo_t runinfo[nruninfo]={
  {  42,          0,      45,       2.5,     1,     1},
  {2176,          0,      45,       2.5,     1,     1},
  {2177,          0,      45,       2.5,     1,     0},
  {2179,          0,      60,       7.1,     1,     0},
  {2180,          0,      60,       7.1,     1,     0},
  {2181,          0,      60,       7.1,     1,     0},
  {2183,          0,      60,       7.1,     1,     0},
  {2184,          0,     100,       8.4,     1,     0},
  {2186,          0,     150,       8.0,     1,     0},
  {2187,          0,     150,       8.0,     1,     0},
  {2187,          0,     100,       8.3,     1,     0},
  {2229,       2336,     350,       8.0,     1,     1},
  {2231,       2232,      50,       7.0,     1,     1},
  {2233,       2234,      60,       8.0,     1,     1},
  {2235,       2236,      60,      24.0,     1,     1},
  {2237,       2238,      60,       0.4,     1,     1},
  {2239,       2240,      80,       8.0,     1,     1},
  {2241,       2242,     120,       8.0,     1,     1},
  {2243,       2244,     120,      24.0,     1,     1},
  {2245,       2246,     120,       0.4,     1,     1},
  {2247,       2253,     175,       8.0,     1,     1},
  {2248,       2253,     175,       8.0,     1,     1},
  {2252,       2253,     175,       7.0,     1,     1},
  {2315,       2318,     175,       9.1,     1,     1},
  {2316,       2318,     175,       9.1,     1,     1},
  {2317,       2318,     175,       9.1,     1,     1},
  {2319,       2322,     175,      23.7,     1,     1},
  {2320,       2322,     175,      23.7,     1,     1},
  {2321,       2322,     175,      23.7,     1,     1},
  {2323,       2326,     175,       0.4,     1,     1},
  {2324,       2326,     175,       0.4,     1,     1}, 
  {2325,       2326,     175,       0.4,     1,     1}, 
  {2327,       2329,     250,       7.8,     1,     1},
  {2328,       2329,     250,       7.8,     1,     1},
  {2331,       2336,     350,       8.7,     1,     1}, 
  {2333,       2336,     350,       8.7,     1,     0}, 
  {2334,       2336,     350,       8.7,     1,     1}, 
  {2422,       2421,      45,       3.0,     1,     0},
  {2423,       2424,      60,      24.0,     1,     0},
  {2425,       2426,      60,       1.4,     1,     0},
  {2427,       2429,      80,       1.3,     1,     0},
  {2430,       2431,     100,       1.4,     1,     0},
  {2432,       2433,     100,       8.1,     1,     0},
  {2434,       2436,     150,       1.3,     1,     0},
  {2454,          0,     150,      23.0,     1,     0},
  {   0,       2457,     150,     153.0,     1,     0},
  {   0,       2458,     100,      83.0,     1,     0},
  {2460,          0,     100,       7.6,     1,     0},
  {2461,          0,     100,       7.6,     1,     0},
  {2462,          0,     150,       7.1,     1,     0},
  {2463,          0,     200,       7.3,     1,     0},
  {2464,          0,     100,       7.3,     1,     0},
  {2465,          0,     150,       7.0,     1,     0},
  {2466,          0,     150,      24.0,     1,     0},
  {2476,          0,     250,      18.0,     1,     0},
  {2477,          0,     250,      18.0,     1,     0},
  {2478,          0,     250,      18.0,     1,     0},
  {2479,          0,     250,      18.0,     1,     0},
  {2537,          0,      50,       1.0,     1,     0},
  {2582,          0,     150,       1.0,     1,     0},
  {2603,          0,     250,      10.0,     1,     0},
  {2604,          0,     250,      10.0,     1,     0},
  {2615,       2616,      50,       0.4,     1,     0},
  {2617,       2618,      60,       0.4,     1,     0},
  {2619,       2620,      70,       0.4,     1,     0},
  {2622,       2623,      80,       0.4,     1,     0},
  {2625,       2624,     100,       0.4,     1,     0},
  {2626,       2627,     125,       0.4,     1,     0},
  {2629,       2628,     150,       0.4,     1,     0},
  {2630,       2631,     175,       0.4,     1,     0},
  {2633,       2632,     200,       0.4,     1,     0},
  {2634,       2635,     225,       0.4,     1,     0},
  {2637,       2636,     250,       0.4,     1,     0},
  {2638,       2639,     300,       0.4,     1,     0},
  {2661,       2660,     100,       0.5,     1,     0},
  {2667,       2668,      50,       0.5,     1,     0},
  {2673,       2674,     150,      11.7,     1,     0},
  {2679,       2680,     200,      19.3,     1,     0},
};

float getrunmua(int run,float def=0.01)
{
  for(int i=0; i<nruninfo; i++){
	 if( (runinfo[i].sigrun==run)||(runinfo[i].bgrun==run) ){
		switch(runinfo[i].slit){
		case  45: return 0.00015;
		case  50: return 0.002;
		case  60: return 0.003; 
		case  70: return 0.0045;//linearly interpolated
		case  80: return 0.006;
		case 100: return 0.0108;
		case 120: return 0.0125;
		case 125: return 0.0150;//linearly interpolated
		case 150: return 0.0192;
		case 175: return 0.0225;
		case 200: return 0.0275;
		case 225: return 0.0322;//linearly interpolated
		case 250: return 0.0372;
		case 275: return 0.0409;//linearly interpolated
		case 300: return 0.0452;//linearly interpolated 
		case 350: return 0.0538; 
		}
	 }
  }
  cout << "run " << run << " not found, using default mua=" << def << endl;
  return def;
}

float getruntrig(int run,float def=8.0)
{
  for(int i=0; i<nruninfo; i++){
	 if( (runinfo[i].sigrun==run)||(runinfo[i].bgrun==run) ) return runinfo[i].ftrig;
  }
  cout << "run " << run << " not found, using default ftrig=" << def << endl;
  return def;
}

float getrunrocdata(int run, int def=0)
{
  for (int i=0; i<nruninfo; i++){
    if ( (runinfo[i].sigrun==run)||(runinfo[i].bgrun==run) ) return runinfo[i].rocdata;
  }
  cout << "run " << run << " not found!!" << endl;
  return def;
}
